<!DOCTYPE html>
<html>

<head>
  <title>Google OAuth</title>
</head>

<body>
  <h2>Sign in with Google</h2>
  <button onclick="window.api.openAuthUrl()">Sign In</button>

  <h3>Refresh Token:</h3>
  <pre id="refreshBox"></pre>

  <h3>Access Token:</h3>
  <pre id="accessBox"></pre>

  <!-- <button onclick="loadToken()">Get Latest Token</button> -->

  <script>
    window.api.startTokenWatcher((tokens) => {
      document.getElementById("refreshBox").innerText = tokens.refreshToken || "Waiting...";
      document.getElementById("accessBox").innerText = tokens.accessToken || "Waiting...";
    });
  </script>
</body>

</html>